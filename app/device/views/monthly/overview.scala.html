@(email: String,response: model.device.RegionOverview)(implicit request: RequestHeader)
@import play.api.libs.json.Json
@import services.domain.CommonService.formatPattern

<!DOCTYPE html>

<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
            <!-- Meta, title, CSS, favicons, etc. -->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Dashboard Admin </title>

            <!-- Bootstrap -->
        @common.views.html.common.css("Overview")
    </head>
    @common.views.html.common.top()
        <!-- top navigation -->
    <div class="top_nav">
        <div class="nav_menu">
            <nav>
                <div class="nav toggle" style="margin-bottom: 10px">
                    <a id="menu_toggle"><i class="fa fa-bars"></i></a>
                </div>
            </nav>
            <ul class="nav navbar-nav navbar-right">
                <li class="">
                    <a href="javascript:;" class="user-profile dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                        <img src="../assets/images/user.default.png" alt="">@email
                        <span class=" fa fa-angle-down"></span>
                    </a>
                    <ul class="dropdown-menu dropdown-usermenu pull-right">
                        <li><a href="/logout"><i class="fa fa-sign-out pull-right"></i> Log Out</a></li>
                    </ul>
                </li>
            </ul>

        </div>
    </div>
        <!-- /top navigation -->
        <!-- page content -->
    <div class="right_col" role="main">
        <div class="row top_tiles">
            <div class="col-xs-12">
                <div class="container">
                    <div class="tab-slider--nav" style="padding: 5px 20px 0px 20px;margin-bottom: 10px;">
                        <ul class="tab-slider--tabs">
                            <li class="tab-slider--trigger active" rel="tabOverview">Overview</li>
                            <li class="tab-slider--trigger" rel="tabTop">Top N Bas</li>
                        </ul>
                        <div id="monthTab1" style="float: right">
                        @if(response != null) {
                            <form action="/searchMonthOverview" class="disInline" method="POST" id="ctSearch">
                                @helper.CSRF.formField
                                <label class="titPicker">From</label>
                                <input class="form-control picker" type="text" id="startMonth" name="startMonth" readonly="true" value="@response.time.fromDate"/>
                                <label class="titPicker">To</label>
                                <input class="form-control picker" type="text" id="endMonth" name="endMonth" readonly="true" value="@response.time.toDate"/>
                                <button type="submit" class="btn btn-success"><i class="fa fa-search" aria-hidden="true"></i></button>
                                <a href="/device" class="btn btn-info"><i class="fa fa-refresh" aria-hidden="true"></i></a>
                            </form>
                        }
                        </div>
                        <div id="divTopN" class="disInline" style="display: none;float: right">
                            <div class="input-group date" id="monthPickerTop" style="width: 200px">
                                <input type="text" id="month" class="form-control" readonly="true" style="cursor: pointer;background-color: white" placeholder="Choose month...">
                                <span class="input-group-addon" style="background-color: #5A738E!important;"><i class="fa fa-calendar" aria-hidden="true" style="color:white"></i>
                                </span>
                            </div>
                            <a onclick="getTopNByRegion()" class="btn btn-info" style="margin-bottom: 10px;margin-left: 5px"><i class="fa fa-refresh" aria-hidden="true"></i></a>
                        </div>
                    </div>
                    <div class="tab-slider--container">
                        <div id="tabOverview" class="tab-slider--body">
                        @if(response != null){
                            <div class="col-xs-12" id="divTabOverview">
                                <div class="col-lg-12" style="padding:0px;">
                                    <div class="col-md-4 col-sm-4 col-xs-12 col-lg-4">
                                        <div class="x_panel tile">
                                            <div class="x_title">
                                                <h2 style="font-weight: 500;font-size: 24px"> Total Service Monitor Notices (Bras)</h2>
                                                <i class="fa fa-info-circle toolTipText" title="Thống kê thông tin số lần thay đổi trạng thái của các service quản lý thiết bị BRAS (hệ thống Opsview) theo từng tháng và vị trí địa lý"></i>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="x_content">
                                                <div id="region-opsview" style="height: 350px;"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4 col-sm-4 col-xs-12 col-lg-4">
                                        <div class="x_panel tile">
                                            <div class="x_title">
                                                <h2 style="font-weight: 500;font-size: 24px"> Total Device Errors (Bras)</h2>
                                                <i class="fa fa-info-circle toolTipText" title="Thống kê thông tin số lần phát sinh lỗi trên thiết bị BRAS theo từng tháng và vị trí địa lý"></i>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="x_content">
                                                <div id="region-kibana" style="height: 350px;"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4 col-sm-4 col-xs-12 col-lg-4">
                                        <div class="x_panel tile">
                                            <div class="x_title">
                                                <h2 style="font-weight: 500;font-size: 24px"> Statistic Of Poor Connections (Access)</h2>
                                                <i class="fa fa-info-circle toolTipText" title="Thống kê thông tin số hợp đồng có kết nối kém, đi kèm số thiết bị kết nối và số lần kết nối, tại thiết bị Access theo từng tháng và vị trí"></i>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="x_content">
                                                <div id="region-contract" style="height: 350px;"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12" style="padding:0px;">
                                    <div class="col-md-6 col-sm-6 col-xs-12 col-lg-6">
                                        <div class="x_panel tile">
                                            <input type="hidden" id="regionSigLog">
                                            <input type="hidden" id="isRegionSigLog">
                                            <input type="hidden" id="isProvinceSigLog">
                                            <div class="x_title">
                                                <h2 style="font-weight: 500;
                                                    font-size: 24px"> Total SignIn & LogOff By Months</h2>
                                                <i class="fa fa-info-circle toolTipText" title="Thống kê thông tin số lần ra/vào mạng của người dùng, đi kèm là số lượng người dùng tương ứng, theo từng tháng và vị trí địa lý"></i>
                                                <a class="btn btn-warning" id="backSigLog" onclick="backSigLogmonth()" style="display: none;float: right"></a>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="x_content">
                                                <div id="region-siglog-bar" style="height: 350px;"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-sm-6 col-xs-12 col-lg-6">
                                        <div class="x_panel tile">
                                            <div class="x_title">
                                                <h2 style="font-weight: 500;
                                                    font-size: 24px"> Total SuyHao Not Pass By Months (Access)</h2>
                                                <i class="fa fa-info-circle toolTipText" title="Thống kê thông tin số lần đo được tín hiệu suy hao không đạt chuẩn (rx > -24, 1 < tx <= 3), đi kèm là số lượng người dùng tương ứng, tại thiết bị Access theo tháng và vị trí"></i>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="x_content">
                                                <div id="region-suyhao" style="height: 350px;"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12" style="padding:0px;">
                                    <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">
                                        <div class="x_panel tile">
                                            <input type="hidden" id="regionInf">
                                            <input type="hidden" id="isRegion">
                                            <input type="hidden" id="isProvince">

                                            <div class="x_title">
                                                <h2 style="font-weight: 500;font-size: 24px"> Total INF Errors By Months</h2>
                                                <i class="fa fa-info-circle toolTipText" title="Thống kê thông tin số lần phát sinh lỗi tại thiết bị Access theo từng tháng và vị trí địa lý"></i>
                                                <a class="btn btn-warning" id="backInfTotal" onclick="backInfTotal()" style="display: none;float: right"></a>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="x_content">
                                                <div id="region-inf" style="height:350px;"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-12">
                                    <div id="divallMonth">
                                        <input type="hidden" id="monthGroup" value="@response.time.fromDate/@response.time.toDate">
                                        <a onclick="groupRegionByMonth(this,0)" type="button" class="btn btnDefault month"><i class="fa fa-refresh" aria-hidden="true"></i></a>
                                        @for(i <- 0 until response.time.rangeMonth.length ){
                                            <a onclick="groupRegionByMonth(this,1)" type="button" class="btn btnDefault month">@response.time.rangeMonth(i)</a>
                                        }
                                    </div>
                                </div>
                                <div class="col-lg-12" style="padding:0px;">
                                    <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">
                                        <div class="x_panel tile">
                                            <input type="hidden" id="regionNoticeStt">
                                            <input type="hidden" id="isRegionStt">
                                            <input type="hidden" id="isProvinceStt">
                                            <div class="x_title">
                                                <h2 style="font-weight: 500;
                                                    font-size: 24px"> Total Notices By Status (Bras)</h2>
                                                <i class="fa fa-info-circle toolTipText" title="Thống kê thông tin chi tiết số lần thay đổi trạng thái của các service quản lý thiết bị BRAS (hệ thống Opsview) theo từng trạng thái (status) và vị trí địa lý
"></i>
                                                <a class="btn btn-warning" id="backNoticeStt" onclick="backNoticeStatus()" style="display: none;float: right"></a>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="x_content">
                                                <div id="region-opsview-heatmap" style="height: 350px;"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12" style="padding:0px;">
                                    <div class="col-md-6 col-sm-6 col-xs-12 col-lg-6">
                                        <div class="x_panel tile">
                                            <div class="x_title">
                                                <h2 style="font-weight: 500;
                                                    font-size: 24px"> Total Device Errors By Severity (Bras)</h2>
                                                <i class="fa fa-info-circle toolTipText" title="Thống kê thông tin số lỗi phát sinh trên thiết bị BRAS theo từng mức độ lỗi (severity) và vị trí địa lý"></i>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="x_content">
                                                <div id="region-nocCount" style="height: 350px;"></div>
                                                <form id="frmNoccount" style="text-align: center">
                                                    <input type="hidden" id="typeNocCount" value="AlertCount">
                                                    <label class="radio-inline radioText">
                                                        <input type="radio" value="AlertCount" name="optradio" checked>AlertCount
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="CritCount" name="optradio">CritCount
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="WarningCount" name="optradio">WarningCount
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="NoticeCount" name="optradio">NoticeCount
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="ErrCount" name="optradio">ErrCount
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="EmergCount" name="optradio">EmergCount
                                                    </label>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-sm-6 col-xs-12 col-lg-6">
                                        <div class="x_panel tile">
                                            <div class="x_title">
                                                <h2 style="font-weight: 500;
                                                    font-size: 24px"> Total INF Errors By Type</h2>
                                                <i class="fa fa-info-circle toolTipText" title="Thống kê thông tin số lỗi phát sinh trên thiết bị Access theo từng loại lỗi và vị trí địa lý"></i>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="x_content">
                                                <div id="region-infError" style="height: 350px;"></div>
                                                <form id="frmInferror" style="text-align: center">
                                                    <input type="hidden" id="typeInfError" value="InfDown">
                                                    <label class="radio-inline radioText">
                                                        <input type="radio" value="InfDown" name="infradio" checked>InfDown
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="UseDown" name="infradio">UseDown
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="RougeError" name="infradio">RougeError
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="LostSignal" name="infradio">LostSignal
                                                    </label>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }else{
                            <div class="row"><h2 class="noData-title">Not enough data. Sorry!</h2></div>
                        }
                        </div>
                        <div id="tabTop" class="tab-slider--body">
                            <input type="hidden" id="isClicked" value="0">
                            <div class="col-xs-12" id="divTabTop">
                                <div class="col-lg-12" style="padding:0px;">
                                    <div class="col-md-6 col-sm-6 col-xs-6 col-lg-6">
                                        <div class="x_panel tile">
                                            <div class="x_title">
                                                <h2 style="font-weight: 500;font-size: 24px">Top 10 Province By SignIn</h2>
                                                <i class="fa fa-info-circle toolTipText" title="Top 10 BRAS có số lần vào mạng nhiều nhất theo thời gian, đi kèm số lượng người dùng tương ứng"></i>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="x_content">
                                                <div id="bar-signin" style="height: 350px;"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-sm-6 col-xs-6 col-lg-6">
                                        <div class="x_panel tile">
                                            <div class="x_title">
                                                <h2 style="font-weight: 500;
                                                    font-size: 24px">Top 10 Province By LogOff</h2>
                                                <i class="fa fa-info-circle toolTipText" title="Top 10 BRAS có số lần ra mạng nhiều nhất theo thời gian, đi kèm số lượng người dùng tương ứng"></i>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="x_content">
                                                <div id="bar-logoff" style="height: 350px;"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12" style="padding:0px;">
                                    <div class="col-md-6 col-sm-6 col-xs-6 col-lg-6">
                                        <div class="x_panel tile">
                                            <div class="x_title">
                                                <h2 style="font-weight: 500;font-size: 24px"> Top 10 Province By Device Errors</h2>
                                                <i class="fa fa-info-circle toolTipText" title="Top 10 BRAS có số lần phát sinh lỗi trên thiết bị BRAS nhiều nhất theo từng mức độ lỗi và theo thời gian"></i>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="x_content">
                                                <div id="bar-kibana" style="height: 350px;"></div>
                                                <form id="frmKibanaError" style="text-align: center">
                                                    <input type="hidden" id="typeKibanaError" value="alert_count">
                                                    <label class="radio-inline radioText">
                                                        <input type="radio" value="alert_count" name="optradioE" checked>AlertCount
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="crit_count" name="optradioE">CritCount
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="warning_count" name="optradioE">WarningCount
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="notice_count" name="optradioE">NoticeCount
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="err_count" name="optradioE">ErrCount
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="emerg_count" name="optradioE">EmergCount
                                                    </label>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-sm-6 col-xs-6 col-lg-6">
                                        <div class="x_panel tile">
                                            <div class="x_title">
                                                <h2 style="font-weight: 500;
                                                    font-size: 24px"> Top 10 Province By Service Monitor Notices</h2>
                                                <i class="fa fa-info-circle toolTipText" title="Top 10 BRAS có số lần thay đổi trạng thái của các service quản lý thiết bị BRAS (hệ thống Opsview) nhiều nhất theo từng trạng thái và theo thời gian"></i>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="x_content">
                                                <div id="bar-opsview" style="height: 350px;"></div>
                                                <form id="frmServiceStatus" style="text-align: center">
                                                    <input type="hidden" id="typeServiceStatus" value="crit_opsview">
                                                    <label class="radio-inline radioText">
                                                        <input type="radio" value="crit_opsview" name="optradiStt" checked>Crit_opsview
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="ok_opsview" name="optradiStt">Ok_opsview
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="warn_opsview" name="optradiStt">Warn_opsview
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="unknown_opsview" name="optradiStt">Unknown_opsview
                                                    </label>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12" style="padding:0px;">
                                    <div class="col-xs-12">
                                        <div class="x_panel tile">
                                            <div class="x_title">
                                                <h2 style="font-weight: 500;font-size: 24px"> Top 20 Province By INF Errors</h2>
                                                <i class="fa fa-info-circle toolTipText" title="Top 20 BRAS có số lần phát sinh lỗi trên thiết bị Access nhiều nhất theo từng loại lỗi và theo thời gian "></i>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="x_content">
                                                <div id="bar-inf" style="height: 350px;"></div>
                                                <form id="frmInfToperr" style="text-align: center">
                                                    <input type="hidden" id="typeInftoperr" value="lofi_error">
                                                    <label class="radio-inline radioText">
                                                        <input type="radio" value="lofi_error" name="optradioInf" checked>LofiError
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="inf_down" name="optradioInf">InfDown
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="user_down" name="optradioInf">UserDown
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="rouge_error" name="optradioInf">RougeError
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="lost_signal" name="optradioInf">LostSignal
                                                    </label>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12" style="padding:0px;">
                                    <div class="col-md-6 col-sm-6 col-xs-6 col-lg-6">
                                        <div class="x_panel tile">
                                            <div class="x_title">
                                                <h2 style="font-weight: 500;font-size: 24px"> Top 10 OLT By SuyHao Not Pass</h2>
                                                <i class="fa fa-info-circle toolTipText" title="Top 10 thiết bị Access có số lần tín hiệu suy hao không đạt chuẩn nhiều nhất (rx > -24, 1 < tx <= 3) theo thời gian, đi kèm số lượng người dùng tương ứng"></i>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="x_content">
                                                <div id="bar-suyhao" style="height: 350px;"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-sm-6 col-xs-6 col-lg-6">
                                        <div class="x_panel tile">
                                            <div class="x_title">
                                                <h2 style="font-weight: 500;
                                                    font-size: 24px"> Top 10 OLT By Poor Connections</h2>
                                                <i class="fa fa-info-circle toolTipText" title="Top 10 thiết bị Access có thông tin kết nối kém theo hợp đồng, số thiết bị, số lần kết nối nhiều nhất và theo thời gian"></i>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="x_content">
                                                <div id="bar-poor" style="height: 330px;"></div>
                                                <form id="frmOLTpoor" style="text-align: center">
                                                    <input type="hidden" id="typeOLTpoor" value="no_contract">
                                                    <label class="radio-inline radioText">
                                                        <input type="radio" value="no_contract" name="optradioLt" checked>No contract
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="no_device" name="optradioLt">No device
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" value="poor_conn" name="optradioLt">Poor conn
                                                    </label>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
        <!-- /page content -->

        <!-- footer content -->
    <footer>
        <div class="pull-right">
            Dashboard Admin 21/09/2017
        </div>
        <div class="clearfix"></div>
    </footer>
        <!-- /footer content -->
    </div>
    </div>

        <!-- jQuery -->
    <script src="../assets/vendors/jquery/dist/jquery.min.js"></script>
        <!-- Bootstrap -->
    <script src="../assets/vendors/bootstrap/dist/js/bootstrap.min.js"></script>
        <!-- Custom Theme Scripts -->
    <script src="../assets/custom/js/custom.min.js"></script>

        <!-- Counter number -->
    <script src="../assets/javascripts/jquery.counterup.min.js"></script>
    <script type="text/javascript" src="../assets/javascripts/vis.min.js"></script>
        <!-- Autocomplete -->
    <script src="../assets/javascripts/jquery-ui.js"></script>
    <script src="../assets/javascripts/waitMe.js"></script>
        <!-- Hight chart -->
    <script src="../assets/javascripts/highcharts.js"></script>
    <script src="../assets/javascripts/exporting.js"></script>
    <script src="../assets/javascripts/heatmap.js"></script>
    <script src="../assets/javascripts/drilldown.js"></script>
        <!-- Datatable -->
    <script src="../assets/vendors/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="../assets/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
    <script src="../assets/vendors/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
    <script src="../assets/vendors/datatables.net-buttons/js/buttons.flash.min.js"></script>
    <script src="../assets/vendors/datatables.net-buttons/js/buttons.html5.min.js"></script>
    <script src="../assets/vendors/datatables.net-buttons/js/buttons.print.min.js"></script>
    <script src="../assets/vendors/jszip/jszip.min.js"></script>
    <script src="../assets/vendors/jszip/pdfmake.min.js"></script>
    <script src="../assets/vendors/jszip/vfs_fonts.js"></script>

    <script src="../assets/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
    <script src="../assets/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js"></script>
    <script src="../assets/vendors/datatables.net-fixedColumn/js/dataTables.fixedColumn.min.js"></script>
        <!--  Datepicker -->
    <script type="text/javascript" src="../assets/datepicker/js/bootstrap-datepicker.js"></script>
    @scripts(response)
     <script>

     </script>

    </body>
</html>